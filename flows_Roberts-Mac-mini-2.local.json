[
    {
        "id": "f30f9979.39f178",
        "type": "tab",
        "label": "Sun Timers",
        "disabled": false,
        "info": ""
    },
    {
        "id": "511ba96f.a12658",
        "type": "tab",
        "label": "Temperature",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bfc5fec7.b4f73",
        "type": "tab",
        "label": "Batteries",
        "disabled": false,
        "info": ""
    },
    {
        "id": "25be3e23.1e5eb2",
        "type": "tab",
        "label": "Location",
        "disabled": false,
        "info": ""
    },
    {
        "id": "402da1b5.446cd8",
        "type": "tab",
        "label": "Security",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f9337f21.0eab78",
        "type": "tab",
        "label": "Lights",
        "disabled": false,
        "info": ""
    },
    {
        "id": "58b64745.d5681",
        "type": "tab",
        "label": "Motion",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c1c7f362.7de41",
        "type": "subflow",
        "name": "Time Converter",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 260,
                "y": 480,
                "wires": [
                    {
                        "id": "ae545d5b.975008"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 480,
                "wires": [
                    {
                        "id": "ae545d5b.975008",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 540,
            "y": 540,
            "wires": [
                {
                    "id": "ae545d5b.975008",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "eaca82ad.4ed06",
        "type": "subflow",
        "name": "Push Rob",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "c044ca5b.081a6"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "7435c4c5.81ec14",
        "type": "subflow",
        "name": "Push L",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "236b247f.af15c4"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "c79ec61c.5274a8",
        "type": "subflow",
        "name": "Main floor motion is enabled",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 120,
                "wires": [
                    {
                        "id": "d1470657.61394"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 380,
                "y": 300,
                "wires": [
                    {
                        "id": "fdbf5834.ae9ad8",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "c3d21661.4ab1f",
        "type": "subflow",
        "name": "Forum zone motion",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 320,
                "y": 360,
                "wires": [
                    {
                        "id": "6ad89231.76929c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1860,
                "y": 300,
                "wires": [
                    {
                        "id": "2f19a526.a2874a",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1860,
                "y": 380,
                "wires": [
                    {
                        "id": "2f19a526.a2874a",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 1640,
            "y": 500,
            "wires": [
                {
                    "id": "d1228c6d.8cdc7",
                    "port": 0
                },
                {
                    "id": "b7925a95.e71ca8",
                    "port": 2
                }
            ]
        }
    },
    {
        "id": "4c7c8cd1.6a2a1c",
        "type": "subflow",
        "name": "My Zone Active",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 100,
                "y": 200,
                "wires": [
                    {
                        "id": "28720ce3.415504"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 700,
                "y": 520,
                "wires": [
                    {
                        "id": "f95fc416.12cdb8",
                        "port": "0"
                    }
                ]
            },
            {
                "x": 1120,
                "y": 620,
                "wires": [
                    {
                        "id": "f9fb7202.670248",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "Zone Name",
                "type": "str",
                "value": "Motion zone"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 1060,
            "y": 840,
            "wires": [
                {
                    "id": "baa794b2.a49bd",
                    "port": 0
                },
                {
                    "id": "3adf6856.200d98",
                    "port": 0
                },
                {
                    "id": "6214c0ab.73eb08",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "252d4ef4.c14b6a",
        "type": "hubitat config",
        "name": "Hubitat",
        "usetls": false,
        "host": "172.16.0.27",
        "port": "80",
        "appId": "501",
        "nodeRedServer": "http://172.16.0.25:1880",
        "webhookPath": "/hubitat/webhook",
        "autoRefresh": false,
        "useWebsocket": false
    },
    {
        "id": "6bba6383.20c05c",
        "type": "ui_group",
        "name": "Default",
        "tab": "7629deba.08a778",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f5be1ade.4321f8",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "7629deba.08a778",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f1cd37ed.5808b",
        "type": "ui_group",
        "name": "Temperature",
        "tab": "7629deba.08a778",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "96c207ac.2237a8",
        "type": "position-config",
        "name": "Home",
        "isValide": "true",
        "longitude": "0",
        "latitude": "0",
        "angleType": "deg",
        "timeZoneOffset": "99",
        "timeZoneDST": "0",
        "stateTimeFormat": "3",
        "stateDateFormat": "12"
    },
    {
        "id": "e4e04d66.281c58",
        "type": "ui_group",
        "name": "Batteries",
        "tab": "7629deba.08a778",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d2fcc025.17ad7",
        "type": "pushover-keys",
        "name": "Robacarp"
    },
    {
        "id": "40b66d76.695704",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Basement - Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "589",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2190,
        "y": 120,
        "wires": [
            [
                "3b895294.40fc1e"
            ]
        ]
    },
    {
        "id": "f6feeac1.313c",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 180,
        "wires": [
            [
                "ae47bc91.90b9e8"
            ]
        ]
    },
    {
        "id": "6254ac96.dbc23c",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "537",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2190,
        "y": 180,
        "wires": [
            [
                "ca3a5b6c.8bcad"
            ]
        ]
    },
    {
        "id": "ca3a5b6c.8bcad",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 180,
        "wires": [
            [
                "f6feeac1.313c",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "ae47bc91.90b9e8",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Main Floor Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "537",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 2990,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "16e0e495.643b53",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 240,
        "wires": [
            [
                "ee7b994b.3d627"
            ]
        ]
    },
    {
        "id": "d643e945.03fd68",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Chair Lamp.",
        "server": "252d4ef4.c14b6a",
        "deviceId": "536",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2190,
        "y": 240,
        "wires": [
            [
                "6626a7d5.bd4b9"
            ]
        ]
    },
    {
        "id": "6626a7d5.bd4b9",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 240,
        "wires": [
            [
                "16e0e495.643b53",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "ee7b994b.3d627",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Main Floor Chair Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "536",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 2980,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a33161c6.8749e8",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 300,
        "wires": [
            [
                "7b708ee2.c9e758"
            ]
        ]
    },
    {
        "id": "48fe7158.3de628",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Kitchen Table",
        "server": "252d4ef4.c14b6a",
        "deviceId": "538",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2160,
        "y": 300,
        "wires": [
            [
                "4e3c6812.be32d"
            ]
        ]
    },
    {
        "id": "4e3c6812.be32d",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 300,
        "wires": [
            [
                "a33161c6.8749e8",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "7b708ee2.c9e758",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Kitchen Table",
        "server": "252d4ef4.c14b6a",
        "deviceId": "538",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 2960,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "784954e6.b11cdc",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 120,
        "wires": [
            [
                "2ac4b003.a7d4e8"
            ]
        ]
    },
    {
        "id": "3b895294.40fc1e",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 120,
        "wires": [
            [
                "784954e6.b11cdc",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "2ac4b003.a7d4e8",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Basement - Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "589",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 2990,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "78d27aa4.3a922c",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "color_temperature",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1540,
        "y": 920,
        "wires": [
            [
                "acfe6604.b0ebd",
                "b0c8d31a.f0e56"
            ]
        ]
    },
    {
        "id": "e1e38786.f7807",
        "type": "inject",
        "z": "f9337f21.0eab78",
        "name": "Every 15 minutes",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 860,
        "wires": [
            [
                "7a1e014f.2d5688"
            ]
        ]
    },
    {
        "id": "e19e918a.2851d",
        "type": "hubitat mode",
        "z": "f9337f21.0eab78",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "sendEvent": true,
        "x": 130,
        "y": 920,
        "wires": [
            [
                "7a1e014f.2d5688"
            ]
        ]
    },
    {
        "id": "7a1e014f.2d5688",
        "type": "delay",
        "z": "f9337f21.0eab78",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 415,
        "y": 920,
        "wires": [
            [
                "82929842.1531"
            ]
        ],
        "l": false
    },
    {
        "id": "aa0d64a0.a2b408",
        "type": "comment",
        "z": "c1c7f362.7de41",
        "name": "Time Zone Offset",
        "info": "",
        "x": 400,
        "y": 360,
        "wires": []
    },
    {
        "id": "a0e70412.49cd3",
        "type": "comment",
        "z": "c1c7f362.7de41",
        "name": "ms -> s",
        "info": "",
        "x": 370,
        "y": 320,
        "wires": []
    },
    {
        "id": "f207fd86.a5521",
        "type": "comment",
        "z": "c1c7f362.7de41",
        "name": "seconds since midnight",
        "info": "",
        "x": 420,
        "y": 400,
        "wires": []
    },
    {
        "id": "ba6ff9d9.4f1458",
        "type": "comment",
        "z": "c1c7f362.7de41",
        "name": "hours since midnight",
        "info": "",
        "x": 410,
        "y": 440,
        "wires": []
    },
    {
        "id": "acfe6604.b0ebd",
        "type": "ui_chart",
        "z": "f9337f21.0eab78",
        "name": "",
        "group": "6bba6383.20c05c",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "Color Temperature (K)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "1500",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1820,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "8e1ccd1c.423048",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Main floor front door - 3/27",
        "server": "252d4ef4.c14b6a",
        "deviceId": "523",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 580,
        "y": 180,
        "wires": [
            [
                "7b1e2cc3.e43bd4"
            ]
        ]
    },
    {
        "id": "9f4c3844.16bad",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Main floor hallway - 3/27",
        "server": "252d4ef4.c14b6a",
        "deviceId": "521",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 570,
        "y": 240,
        "wires": [
            [
                "7b1e2cc3.e43bd4"
            ]
        ]
    },
    {
        "id": "8e8ef821.9d309",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Main floor hallway shelf by stairs - 3/27",
        "server": "252d4ef4.c14b6a",
        "deviceId": "522",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 620,
        "y": 300,
        "wires": [
            [
                "7b1e2cc3.e43bd4"
            ]
        ]
    },
    {
        "id": "f31e698a.7b2ef8",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Main Floor Kitchen Island - Kitchen 3/29",
        "server": "252d4ef4.c14b6a",
        "deviceId": "530",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 620,
        "y": 360,
        "wires": [
            [
                "7b1e2cc3.e43bd4"
            ]
        ]
    },
    {
        "id": "72f9eb20.131fdc",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Main Floor Kitchen Island - Living Room - 3/29",
        "server": "252d4ef4.c14b6a",
        "deviceId": "529",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 640,
        "y": 420,
        "wires": [
            [
                "7b1e2cc3.e43bd4"
            ]
        ]
    },
    {
        "id": "2c6edddf.80305a",
        "type": "ui_chart",
        "z": "511ba96f.a12658",
        "name": "",
        "group": "f1cd37ed.5808b",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "Main Floor",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "no data",
        "dot": false,
        "ymin": "60",
        "ymax": "85",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1130,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "bf1bb877.671918",
        "type": "inject",
        "z": "511ba96f.a12658",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 320,
        "y": 300,
        "wires": [
            [
                "8e1ccd1c.423048",
                "9f4c3844.16bad",
                "8e8ef821.9d309",
                "f31e698a.7b2ef8",
                "72f9eb20.131fdc"
            ]
        ]
    },
    {
        "id": "7b1e2cc3.e43bd4",
        "type": "change",
        "z": "511ba96f.a12658",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 300,
        "wires": [
            [
                "2c6edddf.80305a"
            ]
        ]
    },
    {
        "id": "ad8191f8.a11098",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Basement Under Screen - 4/1",
        "server": "252d4ef4.c14b6a",
        "deviceId": "534",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 610,
        "y": 620,
        "wires": [
            [
                "2583432e.abcc84"
            ]
        ]
    },
    {
        "id": "1c8cf4fe.9ff3cb",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Basement Bottom of Stairs - 4/1",
        "server": "252d4ef4.c14b6a",
        "deviceId": "535",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 610,
        "y": 680,
        "wires": [
            [
                "2583432e.abcc84"
            ]
        ]
    },
    {
        "id": "c10bb58.4d8ecc8",
        "type": "ui_chart",
        "z": "511ba96f.a12658",
        "name": "",
        "group": "f1cd37ed.5808b",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "Basement",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "no data",
        "dot": false,
        "ymin": "60",
        "ymax": "85",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1120,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "1dc9e443.2f6bcc",
        "type": "inject",
        "z": "511ba96f.a12658",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 320,
        "y": 680,
        "wires": [
            [
                "ad8191f8.a11098",
                "1c8cf4fe.9ff3cb",
                "9462833e.1d1b7"
            ]
        ]
    },
    {
        "id": "2583432e.abcc84",
        "type": "change",
        "z": "511ba96f.a12658",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 680,
        "wires": [
            [
                "c10bb58.4d8ecc8",
                "77376d6b.572b8c"
            ]
        ]
    },
    {
        "id": "b0c8d31a.f0e56",
        "type": "link out",
        "z": "f9337f21.0eab78",
        "name": "Color Temperature Updated",
        "links": [
            "ac7411a0.a83e9",
            "dc311cbd.e678c8"
        ],
        "x": 1715,
        "y": 980,
        "wires": []
    },
    {
        "id": "ac7411a0.a83e9",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "b0c8d31a.f0e56",
            "910d19f9.d725e8",
            "de178a7c.7f5e38"
        ],
        "x": 1915,
        "y": 360,
        "wires": [
            [
                "40b66d76.695704",
                "6254ac96.dbc23c",
                "d643e945.03fd68",
                "48fe7158.3de628",
                "254a074c.4530a",
                "bbc83dbd.288978",
                "fd0895f.9d12ae8",
                "74547bc3.2e3004",
                "191f8ef2.3fc1e9",
                "d9452eae.e30818",
                "c9da612b.1c684"
            ]
        ]
    },
    {
        "id": "b7421877.47f01",
        "type": "link out",
        "z": "f9337f21.0eab78",
        "name": "Request CT Update",
        "links": [
            "c5d2e3b6.bd6a4"
        ],
        "x": 2675,
        "y": 60,
        "wires": []
    },
    {
        "id": "c5d2e3b6.bd6a4",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "b7421877.47f01",
            "910d19f9.d725e8",
            "de178a7c.7f5e38"
        ],
        "x": 95,
        "y": 1020,
        "wires": [
            [
                "8fa8cca6.3c39b8"
            ]
        ]
    },
    {
        "id": "8fa8cca6.3c39b8",
        "type": "delay",
        "z": "f9337f21.0eab78",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "30",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 220,
        "y": 1020,
        "wires": [
            [
                "7a1e014f.2d5688"
            ]
        ]
    },
    {
        "id": "9462833e.1d1b7",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Basement - Behind the couch - 4/10",
        "server": "252d4ef4.c14b6a",
        "deviceId": "621",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 630,
        "y": 740,
        "wires": [
            [
                "2583432e.abcc84"
            ]
        ]
    },
    {
        "id": "9a110e75.82802",
        "type": "range",
        "z": "f9337f21.0eab78",
        "minin": "0",
        "maxin": "100",
        "minout": "2500",
        "maxout": "4200",
        "action": "clamp",
        "round": true,
        "property": "payload",
        "name": "percent to kelvin range",
        "x": 1260,
        "y": 920,
        "wires": [
            [
                "78d27aa4.3a922c"
            ]
        ]
    },
    {
        "id": "17a47889.a03a2f",
        "type": "sun-position",
        "z": "f9337f21.0eab78",
        "name": "",
        "positionConfig": "96c207ac.2237a8",
        "rules": [],
        "onlyOnChange": "true",
        "topic": "",
        "outputs": 1,
        "start": "",
        "startType": "none",
        "startOffset": 0,
        "startOffsetType": "none",
        "startOffsetMultiplier": 60000,
        "end": "",
        "endType": "none",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "x": 790,
        "y": 940,
        "wires": [
            [
                "f183b6f5.423ec"
            ]
        ]
    },
    {
        "id": "f183b6f5.423ec",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Auto Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.altitudePercent",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 940,
        "wires": [
            [
                "9a110e75.82802"
            ]
        ]
    },
    {
        "id": "ae545d5b.975008",
        "type": "change",
        "z": "c1c7f362.7de41",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload / 1000",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload - (3600 * 6)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload % 86400",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload / 3600",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "341cca5d.7deafe",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "mZone-Main Floor",
        "server": "252d4ef4.c14b6a",
        "deviceId": "528",
        "attribute": "",
        "sendEvent": true,
        "x": 130,
        "y": 1640,
        "wires": [
            [
                "3680fde5.c22a4a"
            ]
        ]
    },
    {
        "id": "f4196dc1.89ccd8",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "active",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 1640,
        "wires": [
            [
                "1cd367a1.c73378"
            ],
            [
                "f5b7b7f4.c342c8"
            ]
        ]
    },
    {
        "id": "3e5c2df.f9db652",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Turn On",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 1600,
        "wires": [
            [
                "7b90c309.66d214"
            ]
        ]
    },
    {
        "id": "2c8106bb.e0c96a",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Turn Off",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 1660,
        "wires": [
            [
                "7b90c309.66d214"
            ]
        ]
    },
    {
        "id": "7b90c309.66d214",
        "type": "delay",
        "z": "f9337f21.0eab78",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1715,
        "y": 1620,
        "wires": [
            [
                "d56df784.c15a28",
                "6724dcf8.57f25c"
            ]
        ],
        "l": false
    },
    {
        "id": "8bd51c18.0a3aa",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is off",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1210,
        "y": 1600,
        "wires": [
            [
                "d32f1d97.1bc99"
            ]
        ]
    },
    {
        "id": "1cd367a1.c73378",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "537",
        "attribute": "switch",
        "sendEvent": false,
        "x": 1030,
        "y": 1600,
        "wires": [
            [
                "8bd51c18.0a3aa"
            ]
        ]
    },
    {
        "id": "5c2386b3.633c78",
        "type": "rbe",
        "z": "f9337f21.0eab78",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload.value",
        "x": 735,
        "y": 1640,
        "wires": [
            [
                "f4196dc1.89ccd8"
            ]
        ],
        "l": false
    },
    {
        "id": "bc068690.56656",
        "type": "within-time-switch",
        "z": "f9337f21.0eab78",
        "name": "(at night)",
        "positionConfig": "96c207ac.2237a8",
        "startTime": "sunsetStart",
        "startTimeType": "pdsTime",
        "startOffset": "-60",
        "startOffsetType": "num",
        "startOffsetMultiplier": 60000,
        "endTime": "sunriseEnd",
        "endTimeType": "pdsTime",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "propertyStart": "",
        "propertyStartType": "none",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startOffsetAlt": 0,
        "startOffsetAltType": "none",
        "startOffsetAltMultiplier": 60000,
        "propertyEnd": "",
        "propertyEndType": "none",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endOffsetAlt": 0,
        "endOffsetAltType": "none",
        "endOffsetAltMultiplier": 60000,
        "tsCompare": "0",
        "x": 620,
        "y": 1640,
        "wires": [
            [
                "5c2386b3.633c78"
            ],
            []
        ]
    },
    {
        "id": "d32f1d97.1bc99",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "enable auto shut-off",
        "rules": [
            {
                "t": "set",
                "p": "main_lights_auto_off",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 1600,
        "wires": [
            [
                "3e5c2df.f9db652"
            ]
        ]
    },
    {
        "id": "f5b7b7f4.c342c8",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "was turned on by motion",
        "property": "main_lights_auto_off",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 1680,
        "wires": [
            [
                "2c8106bb.e0c96a",
                "f8f5da1.fc20a28"
            ],
            []
        ]
    },
    {
        "id": "f8f5da1.fc20a28",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "disable auto shut-off",
        "rules": [
            {
                "t": "set",
                "p": "main_lights_auto_off",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "d56df784.c15a28",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "537",
        "command": "",
        "commandArgs": "",
        "x": 1890,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "6724dcf8.57f25c",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Chair Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "536",
        "command": "",
        "commandArgs": "",
        "x": 1880,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "6c06e8fb.71416",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "mZone-Main Floor",
        "server": "252d4ef4.c14b6a",
        "deviceId": "528",
        "attribute": "motion",
        "sendEvent": false,
        "x": 930,
        "y": 2000,
        "wires": [
            [
                "c1ddc556.635c78"
            ]
        ]
    },
    {
        "id": "c1ddc556.635c78",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is not active / active",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "neq",
                "v": "active",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 2000,
        "wires": [
            [
                "769489af.fba268"
            ],
            [
                "b56c9c93.da1378"
            ]
        ]
    },
    {
        "id": "b6d68017.7f0ed",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "537",
        "command": "",
        "commandArgs": "",
        "x": 1810,
        "y": 2020,
        "wires": [
            []
        ]
    },
    {
        "id": "f7385003.dbc5c8",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Chair Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "536",
        "command": "",
        "commandArgs": "",
        "x": 1800,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "b56c9c93.da1378",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Turn Off",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 2020,
        "wires": [
            [
                "98b41af4.02371"
            ]
        ]
    },
    {
        "id": "98b41af4.02371",
        "type": "delay",
        "z": "f9337f21.0eab78",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1535,
        "y": 2020,
        "wires": [
            [
                "b6d68017.7f0ed",
                "f7385003.dbc5c8",
                "9bd699af.5487c8"
            ]
        ],
        "l": false
    },
    {
        "id": "769489af.fba268",
        "type": "within-time-switch",
        "z": "f9337f21.0eab78",
        "name": "",
        "positionConfig": "96c207ac.2237a8",
        "startTime": "trigger_time",
        "startTimeType": "msg",
        "startOffset": 0,
        "startOffsetType": "none",
        "startOffsetMultiplier": 60000,
        "endTime": "sunrise",
        "endTimeType": "pdsTime",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "propertyStart": "",
        "propertyStartType": "none",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startOffsetAlt": 0,
        "startOffsetAltType": "none",
        "startOffsetAltMultiplier": 60000,
        "propertyEnd": "",
        "propertyEndType": "none",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endOffsetAlt": 0,
        "endOffsetAltType": "none",
        "endOffsetAltMultiplier": 60000,
        "tsCompare": "0",
        "x": 1450,
        "y": 1960,
        "wires": [
            [
                "8366a27b.f4e078"
            ],
            [
                "9bd699af.5487c8"
            ]
        ]
    },
    {
        "id": "9bd699af.5487c8",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 1980,
        "wires": [
            [
                "8366a27b.f4e078"
            ]
        ]
    },
    {
        "id": "32fa6bf1.ab3b1c",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger_time",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 2000,
        "wires": [
            [
                "3167159b.afdf82"
            ]
        ]
    },
    {
        "id": "8366a27b.f4e078",
        "type": "delay",
        "z": "f9337f21.0eab78",
        "name": "",
        "pauseType": "delay",
        "timeout": "25",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1990,
        "y": 1940,
        "wires": [
            [
                "a0f93288.1af51"
            ]
        ]
    },
    {
        "id": "db501bf4.cbb22",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Basement - Behind the couch - 4/10",
        "server": "252d4ef4.c14b6a",
        "deviceId": "621",
        "attribute": "motion",
        "sendEvent": true,
        "x": 510,
        "y": 240,
        "wires": [
            [
                "9d0be0e6.f2626"
            ]
        ]
    },
    {
        "id": "7e1f915f.63a1e8",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Basement Bottom of Stairs - 4/1",
        "server": "252d4ef4.c14b6a",
        "deviceId": "535",
        "attribute": "motion",
        "sendEvent": true,
        "x": 490,
        "y": 300,
        "wires": [
            [
                "9d0be0e6.f2626"
            ]
        ]
    },
    {
        "id": "faf6ad5a.34d9a8",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Basement Under Screen - 4/1",
        "server": "252d4ef4.c14b6a",
        "deviceId": "534",
        "attribute": "motion",
        "sendEvent": true,
        "x": 490,
        "y": 360,
        "wires": [
            [
                "9d0be0e6.f2626"
            ]
        ]
    },
    {
        "id": "e5967a43.bf4728",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Main floor front door - 3/27",
        "server": "252d4ef4.c14b6a",
        "deviceId": "523",
        "attribute": "motion",
        "sendEvent": true,
        "x": 480,
        "y": 660,
        "wires": [
            [
                "3faf4ff8.21874"
            ]
        ]
    },
    {
        "id": "6529c919.7b8d08",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Main floor hallway - 3/27",
        "server": "252d4ef4.c14b6a",
        "deviceId": "521",
        "attribute": "motion",
        "sendEvent": true,
        "x": 470,
        "y": 600,
        "wires": [
            [
                "3faf4ff8.21874"
            ]
        ]
    },
    {
        "id": "a09e1c18.134418",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Main floor hallway shelf by stairs - 3/27",
        "server": "252d4ef4.c14b6a",
        "deviceId": "522",
        "attribute": "motion",
        "sendEvent": true,
        "x": 520,
        "y": 720,
        "wires": [
            [
                "3faf4ff8.21874"
            ]
        ]
    },
    {
        "id": "65fdba64.4f912c",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Main Floor Kitchen Island - Kitchen 3/29",
        "server": "252d4ef4.c14b6a",
        "deviceId": "530",
        "attribute": "motion",
        "sendEvent": true,
        "x": 520,
        "y": 780,
        "wires": [
            [
                "3faf4ff8.21874"
            ]
        ]
    },
    {
        "id": "a7c052.9af66fb",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Main Floor Kitchen Island - Living Room - 3/29",
        "server": "252d4ef4.c14b6a",
        "deviceId": "529",
        "attribute": "motion",
        "sendEvent": true,
        "x": 540,
        "y": 840,
        "wires": [
            [
                "3faf4ff8.21874"
            ]
        ]
    },
    {
        "id": "21d9691b.c7ff56",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Basement - Behind the couch - 4/11 (robs desk)",
        "server": "252d4ef4.c14b6a",
        "deviceId": "622",
        "attribute": "motion",
        "sendEvent": true,
        "x": 540,
        "y": 420,
        "wires": [
            [
                "9d0be0e6.f2626"
            ]
        ]
    },
    {
        "id": "5674c8f2.6e83f8",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Back Porch",
        "server": "252d4ef4.c14b6a",
        "deviceId": "161",
        "command": "",
        "commandArgs": "",
        "x": 690,
        "y": 2320,
        "wires": [
            []
        ]
    },
    {
        "id": "ed300788.d50c48",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Front Porch",
        "server": "252d4ef4.c14b6a",
        "deviceId": "193",
        "command": "",
        "commandArgs": "",
        "x": 690,
        "y": 2360,
        "wires": [
            []
        ]
    },
    {
        "id": "b8dd13b1.797cb",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Turn Off",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 2360,
        "wires": [
            [
                "5674c8f2.6e83f8",
                "ed300788.d50c48"
            ]
        ]
    },
    {
        "id": "5c9841f.19b74c",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Turn On",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 2320,
        "wires": [
            [
                "5674c8f2.6e83f8",
                "ed300788.d50c48"
            ]
        ]
    },
    {
        "id": "1fbcdc78.00e81c",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "Porch lights",
        "info": "",
        "x": 150,
        "y": 2240,
        "wires": []
    },
    {
        "id": "dbf1d53a.74e1a",
        "type": "hubitat event",
        "z": "bfc5fec7.b4f73",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "x": 230,
        "y": 400,
        "wires": [
            [
                "9a65a55.84bf0d8",
                "90be1ca4.d8ced"
            ]
        ]
    },
    {
        "id": "90be1ca4.d8ced",
        "type": "debug",
        "z": "bfc5fec7.b4f73",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 550,
        "y": 360,
        "wires": []
    },
    {
        "id": "9a65a55.84bf0d8",
        "type": "switch",
        "z": "bfc5fec7.b4f73",
        "name": "name == battery",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "battery",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 460,
        "wires": [
            [
                "90be1ca4.d8ced",
                "a286e85e.95f9f8"
            ]
        ]
    },
    {
        "id": "9da61bd6.f74c6",
        "type": "ui_chart",
        "z": "bfc5fec7.b4f73",
        "name": "",
        "group": "e4e04d66.281c58",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "20",
        "ymax": "100",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1070,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "a286e85e.95f9f8",
        "type": "change",
        "z": "bfc5fec7.b4f73",
        "name": "battery name/level",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload.displayName",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 480,
        "wires": [
            [
                "b5c156c3.b212c8"
            ]
        ]
    },
    {
        "id": "30aade80.91cb42",
        "type": "within-time-switch",
        "z": "f9337f21.0eab78",
        "name": "",
        "positionConfig": "96c207ac.2237a8",
        "startTime": "sunset",
        "startTimeType": "pdsTime",
        "startOffset": 0,
        "startOffsetType": "none",
        "startOffsetMultiplier": 60000,
        "endTime": "sunrise",
        "endTimeType": "pdsTime",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "propertyStart": "",
        "propertyStartType": "none",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startOffsetAlt": 0,
        "startOffsetAltType": "none",
        "startOffsetAltMultiplier": 60000,
        "propertyEnd": "",
        "propertyEndType": "none",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endOffsetAlt": 0,
        "endOffsetAltType": "none",
        "endOffsetAltMultiplier": 60000,
        "tsCompare": "0",
        "x": 240,
        "y": 2340,
        "wires": [
            [
                "5c9841f.19b74c"
            ],
            [
                "b8dd13b1.797cb"
            ]
        ]
    },
    {
        "id": "76fddf4.66e0da",
        "type": "inject",
        "z": "f9337f21.0eab78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 95,
        "y": 2340,
        "wires": [
            [
                "30aade80.91cb42"
            ]
        ],
        "l": false
    },
    {
        "id": "b5c156c3.b212c8",
        "type": "delay",
        "z": "bfc5fec7.b4f73",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 910,
        "y": 480,
        "wires": [
            [
                "9da61bd6.f74c6"
            ]
        ]
    },
    {
        "id": "e7f26b8c.a46ec8",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 360,
        "wires": [
            [
                "c945df01.dcad68"
            ]
        ]
    },
    {
        "id": "254a074c.4530a",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Back Hallway",
        "server": "252d4ef4.c14b6a",
        "deviceId": "784",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2190,
        "y": 360,
        "wires": [
            [
                "8c065791.2df06"
            ]
        ]
    },
    {
        "id": "8c065791.2df06",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 360,
        "wires": [
            [
                "e7f26b8c.a46ec8",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "c945df01.dcad68",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Main Floor Back Hallway",
        "server": "252d4ef4.c14b6a",
        "deviceId": "784",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 2990,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "43a2f1a.eac269",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 420,
        "wires": [
            [
                "cbb9409c.d982"
            ]
        ]
    },
    {
        "id": "bbc83dbd.288978",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Top of Basement Stairs",
        "server": "252d4ef4.c14b6a",
        "deviceId": "785",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2220,
        "y": 420,
        "wires": [
            [
                "a4a5783f.ac2b9"
            ]
        ]
    },
    {
        "id": "a4a5783f.ac2b9",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 420,
        "wires": [
            [
                "43a2f1a.eac269",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "cbb9409c.d982",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Main Floor Top of Basement Stairs",
        "server": "252d4ef4.c14b6a",
        "deviceId": "785",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 3020,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "82929842.1531",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "",
        "property": "manual_ct.enabled",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 920,
        "wires": [
            [
                "d992f052.6d2dd8"
            ],
            [
                "17a47889.a03a2f"
            ]
        ]
    },
    {
        "id": "d992f052.6d2dd8",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Manual CT",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "manual_ct.value",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 900,
        "wires": [
            [
                "9a110e75.82802"
            ]
        ]
    },
    {
        "id": "c0cc2888.9c36f8",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "24b1694e.8d6176"
        ],
        "x": 95,
        "y": 980,
        "wires": [
            [
                "7a1e014f.2d5688"
            ]
        ]
    },
    {
        "id": "e834d70c.0d45a8",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "Set the target color temperature for the house",
        "info": "",
        "x": 250,
        "y": 800,
        "wires": []
    },
    {
        "id": "2537c3e7.bad0ac",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "Motion activate main floor lights",
        "info": "",
        "x": 170,
        "y": 1580,
        "wires": []
    },
    {
        "id": "4ffc18a5.75f8d",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "auto shut off main floor lights",
        "info": "",
        "x": 160,
        "y": 1900,
        "wires": []
    },
    {
        "id": "aed4e04c.0256a8",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "if it's not between sunset and sunrise, abort and cancel any pending loops",
        "info": "",
        "x": 1560,
        "y": 1900,
        "wires": []
    },
    {
        "id": "7429c813.f36f38",
        "type": "inject",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 60,
        "wires": [
            [
                "419c5219.84d51c"
            ]
        ]
    },
    {
        "id": "58e4c6d3.df0c58",
        "type": "hubitat device",
        "z": "25be3e23.1e5eb2",
        "name": "Presence L Home",
        "server": "252d4ef4.c14b6a",
        "deviceId": "358",
        "attribute": "presence",
        "sendEvent": true,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "18c4c630.4d6782"
            ]
        ]
    },
    {
        "id": "fd7c2117.18971",
        "type": "hubitat device",
        "z": "25be3e23.1e5eb2",
        "name": "Presence R Home ",
        "server": "252d4ef4.c14b6a",
        "deviceId": "321",
        "attribute": "presence",
        "sendEvent": true,
        "x": 270,
        "y": 280,
        "wires": [
            [
                "28828043.3cdb3"
            ]
        ]
    },
    {
        "id": "419c5219.84d51c",
        "type": "delay",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 115,
        "y": 220,
        "wires": [
            [
                "58e4c6d3.df0c58",
                "fd7c2117.18971"
            ]
        ],
        "l": false
    },
    {
        "id": "b8817fc3.bc121",
        "type": "switch",
        "z": "25be3e23.1e5eb2",
        "name": "R is home",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "present",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 880,
        "y": 160,
        "wires": [
            [
                "a529e4.a51c9e2"
            ]
        ]
    },
    {
        "id": "e4676b1c.adedf",
        "type": "hubitat device",
        "z": "25be3e23.1e5eb2",
        "name": "Presence R Home ",
        "server": "252d4ef4.c14b6a",
        "deviceId": "321",
        "attribute": "presence",
        "sendEvent": false,
        "x": 690,
        "y": 160,
        "wires": [
            [
                "b8817fc3.bc121"
            ]
        ]
    },
    {
        "id": "2837495c.ae2176",
        "type": "link out",
        "z": "f30f9979.39f178",
        "name": "Sunset",
        "links": [
            "117f15c0.8b285a",
            "89ce2107.6a1858",
            "13a205f.9848cfa"
        ],
        "x": 495,
        "y": 220,
        "wires": []
    },
    {
        "id": "1031c284.48fd75",
        "type": "time-inject",
        "z": "f30f9979.39f178",
        "name": "At Sunset",
        "nameInt": " sunset start = timestamp",
        "positionConfig": "96c207ac.2237a8",
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "sunsetStart",
        "timeType": "pdsTime",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "payload": "",
        "payloadType": "date",
        "payloadTimeFormat": 0,
        "payloadOffset": 0,
        "payloadOffsetType": "none",
        "payloadOffsetMultiplier": 60000,
        "topic": "",
        "addPayload1": "",
        "addPayload2": "",
        "addPayload3": "",
        "addPayload1Type": "none",
        "addPayload2Type": "none",
        "addPayload3Type": "none",
        "addPayload1Value": "",
        "addPayload2Value": "",
        "addPayload3Value": "",
        "addPayload1ValueType": "date",
        "addPayload2ValueType": "date",
        "addPayload3ValueType": "date",
        "addPayload1Format": "0",
        "addPayload2Format": "0",
        "addPayload3Format": "0",
        "addPayload1Offset": 0,
        "addPayload2Offset": 0,
        "addPayload3Offset": 0,
        "addPayload1OffsetType": "none",
        "addPayload2OffsetType": "none",
        "addPayload3OffsetType": "none",
        "addPayload1OffsetMultiplier": 60000,
        "addPayload2OffsetMultiplier": 60000,
        "addPayload3OffsetMultiplier": 60000,
        "addPayload1Next": true,
        "addPayload2Next": true,
        "addPayload3Next": true,
        "addPayload1Days": "*",
        "addPayload2Days": "*",
        "addPayload3Days": "*",
        "x": 340,
        "y": 220,
        "wires": [
            [
                "2837495c.ae2176"
            ]
        ]
    },
    {
        "id": "117f15c0.8b285a",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "2837495c.ae2176"
        ],
        "x": 235,
        "y": 2000,
        "wires": [
            [
                "32fa6bf1.ab3b1c"
            ]
        ]
    },
    {
        "id": "89ce2107.6a1858",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "2837495c.ae2176"
        ],
        "x": 235,
        "y": 2300,
        "wires": [
            [
                "5c9841f.19b74c"
            ]
        ]
    },
    {
        "id": "4e636188.7f332",
        "type": "link out",
        "z": "f30f9979.39f178",
        "name": "Sunrise",
        "links": [
            "35f56d8f.e1d64a",
            "61f1a42.e969ddc"
        ],
        "x": 495,
        "y": 300,
        "wires": []
    },
    {
        "id": "9beeb167.1d6b78",
        "type": "time-inject",
        "z": "f30f9979.39f178",
        "name": "At Sunrise",
        "nameInt": " sunrise end = timestamp",
        "positionConfig": "96c207ac.2237a8",
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "sunriseEnd",
        "timeType": "pdsTime",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "payload": "",
        "payloadType": "date",
        "payloadTimeFormat": 0,
        "payloadOffset": 0,
        "payloadOffsetType": "none",
        "payloadOffsetMultiplier": 60000,
        "topic": "",
        "addPayload1": "",
        "addPayload2": "",
        "addPayload3": "",
        "addPayload1Type": "none",
        "addPayload2Type": "none",
        "addPayload3Type": "none",
        "addPayload1Value": "",
        "addPayload2Value": "",
        "addPayload3Value": "",
        "addPayload1ValueType": "date",
        "addPayload2ValueType": "date",
        "addPayload3ValueType": "date",
        "addPayload1Format": "0",
        "addPayload2Format": "0",
        "addPayload3Format": "0",
        "addPayload1Offset": 0,
        "addPayload2Offset": 0,
        "addPayload3Offset": 0,
        "addPayload1OffsetType": "none",
        "addPayload2OffsetType": "none",
        "addPayload3OffsetType": "none",
        "addPayload1OffsetMultiplier": 60000,
        "addPayload2OffsetMultiplier": 60000,
        "addPayload3OffsetMultiplier": 60000,
        "addPayload1Next": true,
        "addPayload2Next": true,
        "addPayload3Next": true,
        "addPayload1Days": "*",
        "addPayload2Days": "*",
        "addPayload3Days": "*",
        "x": 340,
        "y": 300,
        "wires": [
            [
                "4e636188.7f332"
            ]
        ]
    },
    {
        "id": "35f56d8f.e1d64a",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "4e636188.7f332"
        ],
        "x": 235,
        "y": 2380,
        "wires": [
            [
                "b8dd13b1.797cb"
            ]
        ]
    },
    {
        "id": "87d4a550.5b11e8",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Back Porch",
        "server": "252d4ef4.c14b6a",
        "deviceId": "161",
        "attribute": "switch",
        "sendEvent": false,
        "x": 690,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "2077096d.9a321e",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Front Porch",
        "server": "252d4ef4.c14b6a",
        "deviceId": "193",
        "attribute": "switch",
        "sendEvent": false,
        "x": 690,
        "y": 2420,
        "wires": [
            []
        ]
    },
    {
        "id": "fc87c157.048348",
        "type": "hubitat device",
        "z": "25be3e23.1e5eb2",
        "name": "Presence L Home",
        "server": "252d4ef4.c14b6a",
        "deviceId": "358",
        "attribute": "presence",
        "sendEvent": false,
        "x": 690,
        "y": 280,
        "wires": [
            [
                "d447d508.521a3"
            ]
        ]
    },
    {
        "id": "d447d508.521a3",
        "type": "switch",
        "z": "25be3e23.1e5eb2",
        "name": "L is home",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "present",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 880,
        "y": 280,
        "wires": [
            [
                "12b14db8.b8081a"
            ]
        ]
    },
    {
        "id": "12b14db8.b8081a",
        "type": "change",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "R is coming home!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Home: Presence",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 280,
        "wires": [
            [
                "5eb2fb17.8f7be4"
            ]
        ]
    },
    {
        "id": "a529e4.a51c9e2",
        "type": "change",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Leah is coming home!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Home: Presence",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 160,
        "wires": [
            [
                "cec09b29.9685b"
            ]
        ]
    },
    {
        "id": "65651153.eb91c8",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Bedroom - ec",
        "server": "252d4ef4.c14b6a",
        "deviceId": "304",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 580,
        "y": 860,
        "wires": [
            [
                "22a28a31.390dd6"
            ]
        ]
    },
    {
        "id": "22a28a31.390dd6",
        "type": "change",
        "z": "511ba96f.a12658",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 880,
        "wires": [
            [
                "c023904c.fd8f8",
                "77376d6b.572b8c"
            ]
        ]
    },
    {
        "id": "89c09882.10eaf",
        "type": "inject",
        "z": "511ba96f.a12658",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 880,
        "wires": [
            [
                "65651153.eb91c8",
                "97ff630e.b13cf"
            ]
        ]
    },
    {
        "id": "c023904c.fd8f8",
        "type": "ui_chart",
        "z": "511ba96f.a12658",
        "name": "",
        "group": "f1cd37ed.5808b",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "2nd Floor",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "no data",
        "dot": false,
        "ymin": "60",
        "ymax": "85",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1140,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "77376d6b.572b8c",
        "type": "debug",
        "z": "511ba96f.a12658",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 800,
        "wires": []
    },
    {
        "id": "97ff630e.b13cf",
        "type": "hubitat device",
        "z": "511ba96f.a12658",
        "name": "Kid room - ec",
        "server": "252d4ef4.c14b6a",
        "deviceId": "301",
        "attribute": "temperature",
        "sendEvent": true,
        "x": 580,
        "y": 920,
        "wires": [
            [
                "22a28a31.390dd6"
            ]
        ]
    },
    {
        "id": "de942ea8.fc96d8",
        "type": "delay",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 555,
        "y": 160,
        "wires": [
            [
                "e4676b1c.adedf"
            ]
        ],
        "l": false
    },
    {
        "id": "39f7fbd6.ec40fc",
        "type": "delay",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 555,
        "y": 280,
        "wires": [
            [
                "fc87c157.048348"
            ]
        ],
        "l": false
    },
    {
        "id": "c044ca5b.081a6",
        "type": "change",
        "z": "eaca82ad.4ed06",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "device",
                "pt": "msg",
                "to": "R",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "43ed4749.b7752"
            ]
        ]
    },
    {
        "id": "236b247f.af15c4",
        "type": "change",
        "z": "7435c4c5.81ec14",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "device",
                "pt": "msg",
                "to": "L,ipad",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "f4a49bd9.f676f8"
            ]
        ]
    },
    {
        "id": "cec09b29.9685b",
        "type": "subflow:eaca82ad.4ed06",
        "z": "25be3e23.1e5eb2",
        "name": "Push R",
        "env": [],
        "x": 1300,
        "y": 160,
        "wires": []
    },
    {
        "id": "43ed4749.b7752",
        "type": "pushover api",
        "z": "eaca82ad.4ed06",
        "keys": "d2fcc025.17ad7",
        "title": "",
        "name": "",
        "x": 400,
        "y": 80,
        "wires": []
    },
    {
        "id": "5eb2fb17.8f7be4",
        "type": "subflow:7435c4c5.81ec14",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "env": [],
        "x": 1290,
        "y": 280,
        "wires": []
    },
    {
        "id": "f4a49bd9.f676f8",
        "type": "pushover api",
        "z": "7435c4c5.81ec14",
        "keys": "d2fcc025.17ad7",
        "title": "",
        "name": "",
        "x": 380,
        "y": 80,
        "wires": []
    },
    {
        "id": "a3ebcc7a.48b3f",
        "type": "hubitat mode",
        "z": "402da1b5.446cd8",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "sendEvent": true,
        "x": 850,
        "y": 480,
        "wires": [
            [
                "7bf70c10.c16674"
            ]
        ]
    },
    {
        "id": "1e31fed5.ddb071",
        "type": "hubitat device",
        "z": "402da1b5.446cd8",
        "name": "Back Door",
        "server": "252d4ef4.c14b6a",
        "deviceId": "533",
        "attribute": "contact",
        "sendEvent": false,
        "x": 470,
        "y": 380,
        "wires": [
            [
                "3426b601.c1d0a2"
            ]
        ]
    },
    {
        "id": "8752382f.93cfc",
        "type": "delay",
        "z": "402da1b5.446cd8",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 315,
        "y": 440,
        "wires": [
            [
                "1e31fed5.ddb071",
                "3294e2b8.1cf27e",
                "43af2a17.74aa1c"
            ]
        ],
        "l": false
    },
    {
        "id": "3426b601.c1d0a2",
        "type": "switch",
        "z": "402da1b5.446cd8",
        "name": "Is open",
        "property": "payload.currentValue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "closed",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 660,
        "y": 440,
        "wires": [
            [
                "ba77d6ab.c786a8"
            ]
        ]
    },
    {
        "id": "2933128c.4e1106",
        "type": "debug",
        "z": "402da1b5.446cd8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1450,
        "y": 480,
        "wires": []
    },
    {
        "id": "f5041739.0af4a",
        "type": "inject",
        "z": "402da1b5.446cd8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 320,
        "y": 280,
        "wires": [
            [
                "1e31fed5.ddb071"
            ]
        ]
    },
    {
        "id": "3294e2b8.1cf27e",
        "type": "hubitat device",
        "z": "402da1b5.446cd8",
        "name": "Front Door",
        "server": "252d4ef4.c14b6a",
        "deviceId": "293",
        "attribute": "contact",
        "sendEvent": false,
        "x": 470,
        "y": 440,
        "wires": [
            [
                "3426b601.c1d0a2"
            ]
        ]
    },
    {
        "id": "43af2a17.74aa1c",
        "type": "hubitat device",
        "z": "402da1b5.446cd8",
        "name": "Garage Door",
        "server": "252d4ef4.c14b6a",
        "deviceId": "823",
        "attribute": "contact",
        "sendEvent": false,
        "x": 470,
        "y": 500,
        "wires": [
            [
                "3426b601.c1d0a2"
            ]
        ]
    },
    {
        "id": "28a51ccd.76fee4",
        "type": "link in",
        "z": "402da1b5.446cd8",
        "name": "Check House",
        "links": [],
        "x": 235,
        "y": 440,
        "wires": [
            [
                "8752382f.93cfc"
            ]
        ]
    },
    {
        "id": "ba77d6ab.c786a8",
        "type": "change",
        "z": "402da1b5.446cd8",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "sensorPayload",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "sensorTopic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 440,
        "wires": [
            [
                "a3ebcc7a.48b3f"
            ]
        ]
    },
    {
        "id": "5644d1f7.7c8a3",
        "type": "debug",
        "z": "402da1b5.446cd8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 480,
        "wires": []
    },
    {
        "id": "604183c.7dc6d7c",
        "type": "debug",
        "z": "402da1b5.446cd8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1130,
        "y": 520,
        "wires": []
    },
    {
        "id": "214952fb.ffa886",
        "type": "change",
        "z": "402da1b5.446cd8",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "sensorPayload",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "sensorTopic",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 580,
        "wires": [
            [
                "604183c.7dc6d7c",
                "276abdee.6b17a2"
            ]
        ]
    },
    {
        "id": "7bf70c10.c16674",
        "type": "switch",
        "z": "402da1b5.446cd8",
        "name": "is Away",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 840,
        "y": 540,
        "wires": [
            [
                "214952fb.ffa886"
            ]
        ]
    },
    {
        "id": "8df60365.57e6f8",
        "type": "subflow:eaca82ad.4ed06",
        "z": "402da1b5.446cd8",
        "name": "",
        "env": [],
        "x": 1300,
        "y": 380,
        "wires": []
    },
    {
        "id": "276abdee.6b17a2",
        "type": "change",
        "z": "402da1b5.446cd8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Sensor Tripped during Away",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 440,
        "wires": [
            [
                "8df60365.57e6f8"
            ]
        ]
    },
    {
        "id": "52211b2d.0b51c4",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Chair Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "536",
        "attribute": "switch",
        "sendEvent": true,
        "x": 180,
        "y": 1280,
        "wires": [
            [
                "a105b9ba.7b55d8"
            ]
        ]
    },
    {
        "id": "de196556.3680c",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "537",
        "attribute": "switch",
        "sendEvent": true,
        "x": 170,
        "y": 1360,
        "wires": [
            [
                "b79dac7.526d45"
            ]
        ]
    },
    {
        "id": "9a7d05ec.8ab0c",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "payload.currentValue",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 1340,
        "wires": [
            [
                "3bfa5d33.5e5ec2"
            ]
        ]
    },
    {
        "id": "9fef9b1f.a5a63",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "payload.currentValue",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 1300,
        "wires": [
            [
                "41e18dd3.fb06ec"
            ]
        ]
    },
    {
        "id": "3bfa5d33.5e5ec2",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "537",
        "command": "",
        "commandArgs": "",
        "x": 930,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "41e18dd3.fb06ec",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Chair Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "536",
        "command": "",
        "commandArgs": "",
        "x": 920,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "a105b9ba.7b55d8",
        "type": "trigger",
        "z": "f9337f21.0eab78",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "pay",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 400,
        "y": 1300,
        "wires": [
            [
                "9a7d05ec.8ab0c",
                "b2c69eaf.62863"
            ]
        ]
    },
    {
        "id": "b79dac7.526d45",
        "type": "trigger",
        "z": "f9337f21.0eab78",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "pay",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 400,
        "y": 1340,
        "wires": [
            [
                "9fef9b1f.a5a63",
                "65a4e76a.6f34e"
            ]
        ]
    },
    {
        "id": "65a4e76a.6f34e",
        "type": "debug",
        "z": "f9337f21.0eab78",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 1260,
        "wires": []
    },
    {
        "id": "fd0895f.9d12ae8",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Basement - North end of hallway",
        "server": "252d4ef4.c14b6a",
        "deviceId": "787",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2220,
        "y": 480,
        "wires": [
            [
                "fb3389f6.deaa4"
            ]
        ]
    },
    {
        "id": "fb3389f6.deaa4",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 480,
        "wires": [
            [
                "b7421877.47f01",
                "9daa6dcc.44afe8"
            ]
        ]
    },
    {
        "id": "9daa6dcc.44afe8",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 480,
        "wires": [
            [
                "dfc06344.01436"
            ]
        ]
    },
    {
        "id": "dfc06344.01436",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Basement - North end of hallway",
        "server": "252d4ef4.c14b6a",
        "deviceId": "787",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 3020,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "74547bc3.2e3004",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "name": "Basement - bottom of stairs",
        "server": "252d4ef4.c14b6a",
        "deviceId": "786",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2200,
        "y": 540,
        "wires": [
            [
                "1187bbf7.f876dc"
            ]
        ]
    },
    {
        "id": "1187bbf7.f876dc",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 540,
        "wires": [
            [
                "6c3cefc2.765798",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "6c3cefc2.765798",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 540,
        "wires": [
            [
                "5f24bec1.a6509"
            ]
        ]
    },
    {
        "id": "5f24bec1.a6509",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "",
        "name": "Basement - bottom of stairs",
        "server": "252d4ef4.c14b6a",
        "deviceId": "786",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 3000,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "18c4c630.4d6782",
        "type": "switch",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "property": "payload.currentValue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "present",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 160,
        "wires": [
            [
                "de942ea8.fc96d8"
            ]
        ]
    },
    {
        "id": "28828043.3cdb3",
        "type": "switch",
        "z": "25be3e23.1e5eb2",
        "name": "",
        "property": "payload.currentValue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "present",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 280,
        "wires": [
            [
                "39f7fbd6.ec40fc"
            ]
        ]
    },
    {
        "id": "3cca5a12.e156b6",
        "type": "switch",
        "z": "c79ec61c.5274a8",
        "name": "is enabled",
        "property": "payload.currentValue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 200,
        "wires": [
            [
                "fdbf5834.ae9ad8"
            ]
        ]
    },
    {
        "id": "3167159b.afdf82",
        "type": "subflow:c79ec61c.5274a8",
        "z": "f9337f21.0eab78",
        "x": 680,
        "y": 2000,
        "wires": [
            [
                "6c06e8fb.71416"
            ]
        ]
    },
    {
        "id": "75cdf7ec.d90a48",
        "type": "hubitat device",
        "z": "c79ec61c.5274a8",
        "name": "Main Floor Motion Master",
        "server": "252d4ef4.c14b6a",
        "deviceId": "877",
        "attribute": "switch",
        "sendEvent": false,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "3cca5a12.e156b6"
            ]
        ]
    },
    {
        "id": "d1470657.61394",
        "type": "change",
        "z": "c79ec61c.5274a8",
        "name": "Store payload",
        "rules": [
            {
                "t": "set",
                "p": "sent_payload",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 120,
        "wires": [
            [
                "75cdf7ec.d90a48"
            ]
        ]
    },
    {
        "id": "fdbf5834.ae9ad8",
        "type": "change",
        "z": "c79ec61c.5274a8",
        "name": "ReStore payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "sent_payload",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "sent_payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "3680fde5.c22a4a",
        "type": "subflow:c79ec61c.5274a8",
        "z": "f9337f21.0eab78",
        "name": "",
        "x": 380,
        "y": 1640,
        "wires": [
            [
                "bc068690.56656"
            ]
        ]
    },
    {
        "id": "9b700bfb.42443",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "Reset main motion master",
        "info": "",
        "x": 190,
        "y": 2520,
        "wires": []
    },
    {
        "id": "61f1a42.e969ddc",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "4e636188.7f332"
        ],
        "x": 275,
        "y": 2580,
        "wires": [
            [
                "5ac81d80.ef83ec"
            ]
        ]
    },
    {
        "id": "5ac81d80.ef83ec",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Main Floor Motion Master",
        "server": "252d4ef4.c14b6a",
        "deviceId": "877",
        "command": "on",
        "commandArgs": "",
        "x": 470,
        "y": 2580,
        "wires": [
            []
        ]
    },
    {
        "id": "7fb77504.40d0cc",
        "type": "time-inject",
        "z": "f9337f21.0eab78",
        "name": "",
        "nameInt": " 1:00 = timestamp",
        "positionConfig": "96c207ac.2237a8",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "",
                "vt": "date",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "1:00",
        "timeType": "entered",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 160,
        "y": 1960,
        "wires": [
            [
                "32fa6bf1.ab3b1c"
            ]
        ]
    },
    {
        "id": "b2c69eaf.62863",
        "type": "debug",
        "z": "f9337f21.0eab78",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 1380,
        "wires": []
    },
    {
        "id": "5c121b47.3e6bfc",
        "type": "time-inject",
        "z": "f9337f21.0eab78",
        "name": "",
        "nameInt": " 2:00 = timestamp",
        "positionConfig": "96c207ac.2237a8",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "",
                "vt": "date",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "2:00",
        "timeType": "entered",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 200,
        "y": 2740,
        "wires": [
            [
                "ee749310.3ea05",
                "47d65929.faec98"
            ]
        ]
    },
    {
        "id": "ee749310.3ea05",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Basement Couch Lamp",
        "server": "252d4ef4.c14b6a",
        "deviceId": "97",
        "command": "off",
        "commandArgs": "",
        "x": 470,
        "y": 2740,
        "wires": [
            []
        ]
    },
    {
        "id": "47d65929.faec98",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Basement Leahs Desk",
        "server": "252d4ef4.c14b6a",
        "deviceId": "1",
        "command": "off",
        "commandArgs": "",
        "x": 460,
        "y": 2800,
        "wires": [
            []
        ]
    },
    {
        "id": "cb67386e.a09cc8",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "Turn off basement lights",
        "info": "",
        "x": 180,
        "y": 2680,
        "wires": []
    },
    {
        "id": "ffae05f7.c055d8",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "a0f93288.1af51"
        ],
        "x": 235,
        "y": 2040,
        "wires": [
            [
                "32fa6bf1.ab3b1c"
            ]
        ]
    },
    {
        "id": "a0f93288.1af51",
        "type": "link out",
        "z": "f9337f21.0eab78",
        "name": "Main Lights off",
        "links": [
            "ffae05f7.c055d8"
        ],
        "x": 2115,
        "y": 1940,
        "wires": []
    },
    {
        "id": "e6ca775d.fc4c58",
        "type": "link out",
        "z": "58b64745.d5681",
        "name": "Basement motion start",
        "links": [],
        "x": 1115,
        "y": 300,
        "wires": []
    },
    {
        "id": "c02b55b9.34f378",
        "type": "link out",
        "z": "58b64745.d5681",
        "name": "Basement motion stop",
        "links": [],
        "x": 1115,
        "y": 380,
        "wires": []
    },
    {
        "id": "9d0be0e6.f2626",
        "type": "delay",
        "z": "58b64745.d5681",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 755,
        "y": 340,
        "wires": [
            [
                "cc612b62.86f8f"
            ]
        ],
        "l": false
    },
    {
        "id": "3faf4ff8.21874",
        "type": "delay",
        "z": "58b64745.d5681",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 835,
        "y": 680,
        "wires": [
            [
                "49c7b900.58bf28"
            ]
        ],
        "l": false
    },
    {
        "id": "3782015.bd1617e",
        "type": "inject",
        "z": "58b64745.d5681",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 680,
        "wires": [
            [
                "e5967a43.bf4728",
                "6529c919.7b8d08",
                "a09e1c18.134418",
                "65fdba64.4f912c",
                "a7c052.9af66fb",
                "f426f0a.ee9109",
                "b9ce4cb7.0417f8"
            ]
        ]
    },
    {
        "id": "41a0d0c3.e686a",
        "type": "change",
        "z": "c3d21661.4ab1f",
        "name": "stop",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "stop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1015,
        "y": 422,
        "wires": [
            [
                "b7925a95.e71ca8"
            ]
        ]
    },
    {
        "id": "b7925a95.e71ca8",
        "type": "stoptimer-varidelay",
        "z": "c3d21661.4ab1f",
        "duration": "time_delay_minutes",
        "durationType": "env",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "Timer",
        "reporting": "last_minute_seconds",
        "persist": true,
        "x": 1150,
        "y": 480,
        "wires": [
            [
                "3ad07871.0639e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "3ad07871.0639e8",
        "type": "delay",
        "z": "c3d21661.4ab1f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 1415,
        "y": 382,
        "wires": [
            [
                "7bf14e2d.695bd"
            ]
        ]
    },
    {
        "id": "7c13f4b6.50f13c",
        "type": "unsafe-function",
        "z": "c3d21661.4ab1f",
        "name": "All sensors inactive",
        "func": "// Output 1 - Active event\n// Output 2 - Inactive event\n\n// node.warn(\"Processing Motion Event\");\n\nvar motionStatus = null;\nvar activeCount = 0;\n\nvar motionSensors = flow.get(\"motionSensors\");\nvar automationActive = flow.get(\"automationActive\");\n\nif (typeof motionSensors == \"undefined\") {\n    // node.warn(\"flow.motionSensors not yet defined. Creating new.\");\n    var motionSensors = {};\n}\n\nif (typeof msg.payload != \"undefined\" && msg.payload !== null) {\n    var deviceId = msg.payload.deviceId;\n}\n\n\nif (typeof deviceId != \"undefined\") {\n    // Receiving a device ID indicates we have received an event, so process it.\n    // Note: If we didn't receive an event, the process was triggered by something else (eg. enabling the automation)\n    motionStatus = msg.payload.value;\n\n    if (typeof motionSensors[deviceId] == \"undefined\") {\n    \t// First time seeing this devie, so add it to the list now\n        // node.warn(\"Device object doesn't exist\");\n        motionSensors[deviceId] = {};\n    }\n\n    var deviceObject = motionSensors[deviceId];\n\n    deviceObject.state = motionStatus;\n    deviceObject.displayName = msg.topic;\n\n    flow.set(\"motionSensors\", motionSensors);\n    \n    // If this is an 'active' event, then pass the msg on now and finish here\n    if (motionStatus == 'active' ) {\n        // node.warn(\"New active event received.\");\n        return [msg, null];\n    }\n}\n\n\nfor (let [deviceId, values] of Object.entries(motionSensors)) {\n    if ( values.state == 'active' ) {\n        activeCount++;\n    }\n}\n\nif (activeCount > 0) {\n    // If any of the sensors are still active, proceed as an 'active' event\n    // node.warn(\"Still active.\");\n    return [msg, null];\n} else {\n    // If all sensors are now inactive, proceed as an 'inactive' event\n    // node.warn(\"Status: inactive.\");\n    return [null, msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "x": 795,
        "y": 462,
        "wires": [
            [
                "94445edf.4f075"
            ],
            [
                "b7925a95.e71ca8"
            ]
        ]
    },
    {
        "id": "94445edf.4f075",
        "type": "switch",
        "z": "c3d21661.4ab1f",
        "name": "",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 885,
        "y": 382,
        "wires": [
            [
                "41a0d0c3.e686a",
                "3ad07871.0639e8"
            ]
        ],
        "l": false
    },
    {
        "id": "6ad89231.76929c",
        "type": "switch",
        "z": "c3d21661.4ab1f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "gate_closed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "gate_open",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "stop",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 465,
        "y": 362,
        "wires": [
            [
                "7bf14e2d.695bd",
                "aa8c585e.bae7c8",
                "e549dab9.6467a8"
            ],
            [
                "7bf14e2d.695bd",
                "e549dab9.6467a8"
            ],
            [
                "41a0d0c3.e686a"
            ],
            [
                "e549dab9.6467a8"
            ]
        ]
    },
    {
        "id": "2f19a526.a2874a",
        "type": "switch",
        "z": "c3d21661.4ab1f",
        "name": "",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1730,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "aa8c585e.bae7c8",
        "type": "link out",
        "z": "c3d21661.4ab1f",
        "name": "",
        "links": [],
        "x": 595,
        "y": 300,
        "wires": []
    },
    {
        "id": "296a6fee.751ce",
        "type": "link in",
        "z": "c3d21661.4ab1f",
        "name": "",
        "links": [],
        "x": 1275,
        "y": 540,
        "wires": [
            [
                "d47d10af.6250b"
            ]
        ]
    },
    {
        "id": "d47d10af.6250b",
        "type": "change",
        "z": "c3d21661.4ab1f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Closed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1375,
        "y": 540,
        "wires": [
            [
                "d1228c6d.8cdc7"
            ]
        ],
        "l": false
    },
    {
        "id": "d1228c6d.8cdc7",
        "type": "delay",
        "z": "c3d21661.4ab1f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1500,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "7bf14e2d.695bd",
        "type": "q-gate",
        "z": "c3d21661.4ab1f",
        "name": "Gate",
        "controlTopic": "control",
        "defaultState": "open",
        "openCmd": "gate_open",
        "closeCmd": "gate_closed",
        "toggleCmd": "toggle",
        "queueCmd": "queue",
        "defaultCmd": "default",
        "triggerCmd": "trigger",
        "flushCmd": "flush",
        "resetCmd": "reset",
        "peekCmd": "peek",
        "dropCmd": "drop",
        "statusCmd": "status",
        "maxQueueLength": "100",
        "keepNewest": false,
        "qToggle": false,
        "persist": true,
        "x": 1585,
        "y": 342,
        "wires": [
            [
                "2f19a526.a2874a"
            ]
        ]
    },
    {
        "id": "e549dab9.6467a8",
        "type": "q-gate",
        "z": "c3d21661.4ab1f",
        "name": "Gate",
        "controlTopic": "control",
        "defaultState": "open",
        "openCmd": "gate_open",
        "closeCmd": "gate_closed",
        "toggleCmd": "toggle",
        "queueCmd": "queue",
        "defaultCmd": "default",
        "triggerCmd": "trigger",
        "flushCmd": "flush",
        "resetCmd": "reset",
        "peekCmd": "peek",
        "dropCmd": "drop",
        "statusCmd": "status",
        "maxQueueLength": "100",
        "keepNewest": false,
        "qToggle": false,
        "persist": true,
        "x": 625,
        "y": 462,
        "wires": [
            [
                "7c13f4b6.50f13c"
            ]
        ]
    },
    {
        "id": "49c7b900.58bf28",
        "type": "subflow:4c7c8cd1.6a2a1c",
        "z": "58b64745.d5681",
        "name": "Main presence zone",
        "env": [],
        "x": 1000,
        "y": 680,
        "wires": [
            [
                "684700ac.14a9f8"
            ],
            [
                "37bd8cb0.ae0c2c"
            ]
        ]
    },
    {
        "id": "37082482.1d726c",
        "type": "unsafe-function",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Motion Aggregator",
        "func": "let motionStatus = null;\nlet activeCount = 0;\n\nlet sensors = context.get(\"sensors\") || {};\nlet wasActive = context.get(\"active\") || false;\nlet deviceId\n\nif (typeof msg.payload != \"undefined\" && msg.payload !== null) {\n    deviceId = msg.payload.deviceId;\n}\n\nif (typeof deviceId != \"undefined\") {\n\n    // If we didn't receive an event, the process was triggered by something else (eg. enabling the automation)\n    motionStatus = msg.payload.value\n\n    if (typeof sensors[deviceId] == \"undefined\") {\n        sensors[deviceId] = {}\n    }\n\n    let deviceObject = sensors[deviceId]\n\n    deviceObject.state = motionStatus\n    deviceObject.displayName = msg.topic\n\n    context.set(\"sensors\", sensors)\n}\n\n\nfor (let [deviceId, values] of Object.entries(sensors)) {\n    if ( values.state == 'active' ) {\n        activeCount++\n    }\n}\n\nconst active = activeCount > 0\n\nnewMessage = {\n  topic: env.get(\"Zone Name\"),\n  payload: active ? \"active\" : \"inactive\",\n  count: activeCount\n}\n\n    context.set(\"active\", active)\n    return newMessage\n",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 160,
        "wires": [
            [
                "1135a6a5.8ffeb9"
            ]
        ]
    },
    {
        "id": "baa794b2.a49bd",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Active sensor count",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "count  & \" \" & payload & \" sensors\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "f9fb7202.670248",
        "type": "trigger",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Activity off delay",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1000,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "f95fc416.12cdb8",
        "type": "switch",
        "z": "4c7c8cd1.6a2a1c",
        "name": "is active?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "inactive",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 600,
        "y": 600,
        "wires": [
            [
                "bf8561c.27047a"
            ],
            [
                "4c35d83e.70c12"
            ]
        ]
    },
    {
        "id": "d1fef5e9.1faa",
        "type": "switch",
        "z": "4c7c8cd1.6a2a1c",
        "name": "is active?",
        "property": "count",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 720,
        "y": 860,
        "wires": [
            [
                "3adf6856.200d98"
            ],
            [
                "baa794b2.a49bd"
            ]
        ]
    },
    {
        "id": "3adf6856.200d98",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Inactive",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"inactive\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "28720ce3.415504",
        "type": "switch",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Separate config messages",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "eq",
                "v": "config",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 280,
        "y": 200,
        "wires": [
            [
                "5e909849.a5ede"
            ],
            [
                "ab2b2200.580fe"
            ]
        ]
    },
    {
        "id": "bf8561c.27047a",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 580,
        "wires": [
            [
                "f9fb7202.670248"
            ]
        ]
    },
    {
        "id": "cc612b62.86f8f",
        "type": "subflow:4c7c8cd1.6a2a1c",
        "z": "58b64745.d5681",
        "name": "Basement presence zone",
        "env": [],
        "x": 930,
        "y": 340,
        "wires": [
            [
                "e6ca775d.fc4c58"
            ],
            [
                "c02b55b9.34f378"
            ]
        ]
    },
    {
        "id": "ec6c5a0f.1deb78",
        "type": "inject",
        "z": "58b64745.d5681",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "db501bf4.cbb22",
                "7e1f915f.63a1e8",
                "faf6ad5a.34d9a8",
                "21d9691b.c7ff56"
            ]
        ]
    },
    {
        "id": "684700ac.14a9f8",
        "type": "link out",
        "z": "58b64745.d5681",
        "name": "Main motion start",
        "links": [],
        "x": 1155,
        "y": 660,
        "wires": []
    },
    {
        "id": "37bd8cb0.ae0c2c",
        "type": "link out",
        "z": "58b64745.d5681",
        "name": "Main motion stop",
        "links": [],
        "x": 1155,
        "y": 720,
        "wires": []
    },
    {
        "id": "f426f0a.ee9109",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "name": "Front Door",
        "server": "252d4ef4.c14b6a",
        "deviceId": "293",
        "attribute": "",
        "sendEvent": true,
        "x": 430,
        "y": 560,
        "wires": [
            [
                "3faf4ff8.21874"
            ]
        ]
    },
    {
        "id": "5e909849.a5ede",
        "type": "switch",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Separate motion from contact",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "motion",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "contact",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 690,
        "y": 200,
        "wires": [
            [
                "37082482.1d726c"
            ],
            [
                "ee67eca9.7c9548",
                "83dac1a6.f49bb"
            ]
        ]
    },
    {
        "id": "ee67eca9.7c9548",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Active-true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 220,
        "wires": [
            [
                "de4555d9.03c9f8"
            ]
        ]
    },
    {
        "id": "9dec185d.0fa0b",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Active-false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "inactive",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 260,
        "wires": [
            [
                "de4555d9.03c9f8"
            ]
        ]
    },
    {
        "id": "979d8215.69ba18",
        "type": "link out",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Switch Event",
        "links": [
            "b4f2e905.4ec488",
            "c551054e.c3663",
            "db637502.ed7b1"
        ],
        "x": 1535,
        "y": 220,
        "wires": []
    },
    {
        "id": "1135a6a5.8ffeb9",
        "type": "link out",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Motion Event",
        "links": [
            "b4f2e905.4ec488",
            "c551054e.c3663"
        ],
        "x": 1195,
        "y": 160,
        "wires": []
    },
    {
        "id": "c551054e.c3663",
        "type": "link in",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "links": [
            "1135a6a5.8ffeb9",
            "979d8215.69ba18"
        ],
        "x": 295,
        "y": 840,
        "wires": [
            [
                "2d4ae563.a0394a"
            ]
        ]
    },
    {
        "id": "b4f2e905.4ec488",
        "type": "link in",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "links": [
            "1135a6a5.8ffeb9",
            "979d8215.69ba18"
        ],
        "x": 295,
        "y": 600,
        "wires": [
            [
                "a6ce7a5b.5718f8"
            ]
        ]
    },
    {
        "id": "ab2b2200.580fe",
        "type": "link out",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Config",
        "links": [
            "e1a2c208.c8ace8"
        ],
        "x": 575,
        "y": 260,
        "wires": []
    },
    {
        "id": "e1a2c208.c8ace8",
        "type": "link in",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "links": [
            "ab2b2200.580fe"
        ],
        "x": 295,
        "y": 1120,
        "wires": [
            [
                "c4696ddd.05a93"
            ]
        ]
    },
    {
        "id": "14401b6a.886dad",
        "type": "hubitat device",
        "z": "25be3e23.1e5eb2",
        "name": "Presence Someone Is Home",
        "server": "252d4ef4.c14b6a",
        "deviceId": "390",
        "attribute": "presence",
        "sendEvent": true,
        "x": 300,
        "y": 460,
        "wires": [
            [
                "e898fb78.bb174"
            ]
        ]
    },
    {
        "id": "e898fb78.bb174",
        "type": "link out",
        "z": "25be3e23.1e5eb2",
        "name": "Occupied",
        "links": [
            "a8edb67e.fc78d8"
        ],
        "x": 475,
        "y": 460,
        "wires": []
    },
    {
        "id": "a8edb67e.fc78d8",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "e898fb78.bb174"
        ],
        "x": 135,
        "y": 3000,
        "wires": [
            [
                "64742e8c.eafdd"
            ]
        ]
    },
    {
        "id": "64742e8c.eafdd",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "d": true,
        "name": "Anyone home?",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "present",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 280,
        "y": 3000,
        "wires": [
            [
                "abd11f39.32b72"
            ],
            [
                "363a9c66.018164"
            ]
        ]
    },
    {
        "id": "abd11f39.32b72",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Christmas Tree On",
        "server": "252d4ef4.c14b6a",
        "deviceId": "525",
        "command": "on",
        "commandArgs": "",
        "x": 510,
        "y": 2960,
        "wires": [
            []
        ]
    },
    {
        "id": "363a9c66.018164",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Christmas Tree Off",
        "server": "252d4ef4.c14b6a",
        "deviceId": "525",
        "command": "off",
        "commandArgs": "",
        "x": 510,
        "y": 3020,
        "wires": [
            []
        ]
    },
    {
        "id": "4ce81eb7.3b5058",
        "type": "time-inject",
        "z": "f9337f21.0eab78",
        "d": true,
        "name": "",
        "nameInt": " 23:45 = timestamp",
        "positionConfig": "96c207ac.2237a8",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "",
                "vt": "date",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "23:45",
        "timeType": "entered",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 260,
        "y": 3060,
        "wires": [
            [
                "363a9c66.018164"
            ]
        ]
    },
    {
        "id": "c596c921.6f231",
        "type": "time-inject",
        "z": "f9337f21.0eab78",
        "d": true,
        "name": "",
        "nameInt": " 6:00 = timestamp",
        "positionConfig": "96c207ac.2237a8",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "",
                "vt": "date",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "6:00",
        "timeType": "entered",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 260,
        "y": 2940,
        "wires": [
            [
                "abd11f39.32b72"
            ]
        ]
    },
    {
        "id": "2ef30931.bfae5e",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "Christmas things",
        "info": "Christmas Tree",
        "x": 160,
        "y": 2900,
        "wires": []
    },
    {
        "id": "4c8e959.ebe296c",
        "type": "within-time-switch",
        "z": "f9337f21.0eab78",
        "d": true,
        "name": "",
        "positionConfig": "96c207ac.2237a8",
        "startTime": "sunset",
        "startTimeType": "pdsTime",
        "startOffset": "-45",
        "startOffsetType": "num",
        "startOffsetMultiplier": 60000,
        "endTime": "23:45",
        "endTimeType": "entered",
        "endOffset": 0,
        "endOffsetType": "none",
        "endOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "propertyStart": "",
        "propertyStartType": "none",
        "propertyStartCompare": "true",
        "propertyStartThreshold": "",
        "propertyStartThresholdType": "num",
        "startTimeAlt": "",
        "startTimeAltType": "entered",
        "startOffsetAlt": 0,
        "startOffsetAltType": "none",
        "startOffsetAltMultiplier": 60000,
        "propertyEnd": "",
        "propertyEndType": "none",
        "propertyEndCompare": "true",
        "propertyEndThreshold": "",
        "propertyEndThresholdType": "num",
        "endTimeAlt": "",
        "endTimeAltType": "entered",
        "endOffsetAlt": 0,
        "endOffsetAltType": "none",
        "endOffsetAltMultiplier": 60000,
        "tsCompare": "0",
        "x": 260,
        "y": 3220,
        "wires": [
            [
                "22b6d01e.452a48"
            ],
            [
                "103cf87a.abee18"
            ]
        ]
    },
    {
        "id": "4b47917.4f0bb7",
        "type": "inject",
        "z": "f9337f21.0eab78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 135,
        "y": 3220,
        "wires": [
            [
                "4c8e959.ebe296c"
            ]
        ],
        "l": false
    },
    {
        "id": "22b6d01e.452a48",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Christmas outdoor lights On",
        "server": "252d4ef4.c14b6a",
        "deviceId": "324",
        "command": "on",
        "commandArgs": "",
        "x": 500,
        "y": 3180,
        "wires": [
            []
        ]
    },
    {
        "id": "103cf87a.abee18",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "name": "Outdoor Christmas lights Off",
        "server": "252d4ef4.c14b6a",
        "deviceId": "324",
        "command": "off",
        "commandArgs": "",
        "x": 500,
        "y": 3240,
        "wires": [
            []
        ]
    },
    {
        "id": "7bbb3a43.05164c",
        "type": "time-inject",
        "z": "f9337f21.0eab78",
        "d": true,
        "name": "",
        "nameInt": " 22:00 = timestamp",
        "positionConfig": "96c207ac.2237a8",
        "props": [
            {
                "p": "",
                "pt": "msgPayload",
                "v": "",
                "vt": "date",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": true,
                "days": ""
            },
            {
                "p": "",
                "pt": "msgTopic",
                "v": "",
                "vt": "str",
                "o": "",
                "oT": "none",
                "oM": "60000",
                "f": 0,
                "fS": 0,
                "fT": "UNIX timestamp (ms)",
                "fI": "0",
                "next": false,
                "days": ""
            }
        ],
        "injectTypeSelect": "time",
        "intervalCount": 1,
        "intervalCountType": "num",
        "intervalCountMultiplier": 60000,
        "time": "22:00",
        "timeType": "entered",
        "offset": 0,
        "offsetType": "none",
        "offsetMultiplier": 60000,
        "timeEnd": "",
        "timeEndType": "entered",
        "timeEndOffset": 0,
        "timeEndOffsetType": "none",
        "timeEndOffsetMultiplier": 60000,
        "timeDays": "*",
        "timeOnlyOddDays": false,
        "timeOnlyEvenDays": false,
        "timeMonths": "*",
        "timedatestart": "",
        "timedateend": "",
        "property": "",
        "propertyType": "none",
        "propertyCompare": "true",
        "propertyThreshold": "",
        "propertyThresholdType": "num",
        "timeAlt": "",
        "timeAltType": "entered",
        "timeAltDays": "*",
        "timeAltOnlyOddDays": false,
        "timeAltOnlyEvenDays": false,
        "timeAltMonths": "*",
        "timeAltOffset": 0,
        "timeAltOffsetType": "none",
        "timeAltOffsetMultiplier": 60000,
        "once": false,
        "onceDelay": 0.1,
        "recalcTime": 2,
        "x": 240,
        "y": 3280,
        "wires": [
            [
                "103cf87a.abee18"
            ]
        ]
    },
    {
        "id": "13a205f.9848cfa",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "d": true,
        "name": "",
        "links": [
            "2837495c.ae2176"
        ],
        "x": 155,
        "y": 3160,
        "wires": [
            [
                "22b6d01e.452a48"
            ]
        ]
    },
    {
        "id": "7878ae9d.d67828",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Config",
        "info": "",
        "x": 650,
        "y": 260,
        "wires": []
    },
    {
        "id": "cb4ad9ea.ed3e38",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Motion event",
        "info": "",
        "x": 1310,
        "y": 160,
        "wires": []
    },
    {
        "id": "acfeb2ce.da0e98",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Sensor event",
        "info": "",
        "x": 1650,
        "y": 220,
        "wires": []
    },
    {
        "id": "c4696ddd.05a93",
        "type": "switch",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Set config parameter",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "sensor_reset_delay",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "active_reset_delay",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "zone_active",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 480,
        "y": 1120,
        "wires": [
            [
                "3f0f1369.4b070c"
            ],
            [
                "b127ab0f.e7777"
            ],
            [
                "49b85432.3fb394"
            ]
        ]
    },
    {
        "id": "3f0f1369.4b070c",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "sensor_reset_delay",
                "pt": "flow",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "b127ab0f.e7777",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "activity_reset_delay",
                "pt": "flow",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "83dac1a6.f49bb",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Sensor reset delay",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "sensor_reset_delay",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 260,
        "wires": [
            [
                "b5799027.c31f78",
                "1f831024.572ef8"
            ]
        ]
    },
    {
        "id": "b5799027.c31f78",
        "type": "debug",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 320,
        "wires": []
    },
    {
        "id": "1f831024.572ef8",
        "type": "trigger",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": true,
        "overrideDelay": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1180,
        "y": 260,
        "wires": [
            [
                "9dec185d.0fa0b"
            ]
        ]
    },
    {
        "id": "b9ce4cb7.0417f8",
        "type": "hubitat device",
        "z": "58b64745.d5681",
        "deviceLabel": "",
        "name": "Garage Door",
        "server": "252d4ef4.c14b6a",
        "deviceId": "685",
        "attribute": "",
        "sendEvent": true,
        "x": 430,
        "y": 520,
        "wires": [
            [
                "3faf4ff8.21874"
            ]
        ]
    },
    {
        "id": "102142a.f33f0bd",
        "type": "change",
        "z": "58b64745.d5681",
        "name": "Sensor reset delay",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "config",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.name",
                "pt": "msg",
                "to": "sensor_reset_delay",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.value",
                "pt": "msg",
                "to": "20",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 860,
        "wires": [
            [
                "49c7b900.58bf28"
            ]
        ]
    },
    {
        "id": "94ff9497.1b0398",
        "type": "inject",
        "z": "58b64745.d5681",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 680,
        "y": 900,
        "wires": [
            [
                "102142a.f33f0bd",
                "64a72c5b.63f804"
            ]
        ]
    },
    {
        "id": "64a72c5b.63f804",
        "type": "change",
        "z": "58b64745.d5681",
        "name": "Activity reset delay",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "config",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.name",
                "pt": "msg",
                "to": "activity_reset_delay",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.value",
                "pt": "msg",
                "to": "20",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 900,
        "wires": [
            [
                "49c7b900.58bf28"
            ]
        ]
    },
    {
        "id": "4c35d83e.70c12",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Activity reset delay",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "activity_reset_delay",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 620,
        "wires": [
            [
                "f9fb7202.670248"
            ]
        ]
    },
    {
        "id": "7a24866e.db567",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Zone Active",
        "info": "",
        "x": 810,
        "y": 520,
        "wires": []
    },
    {
        "id": "268891b5.f0e4f6",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Zone Inactive",
        "info": "",
        "x": 1070,
        "y": 560,
        "wires": []
    },
    {
        "id": "de4555d9.03c9f8",
        "type": "rbe",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1475,
        "y": 220,
        "wires": [
            [
                "979d8215.69ba18"
            ]
        ],
        "l": false
    },
    {
        "id": "28fb421d.2d7a2e",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Status text",
        "info": "",
        "x": 340,
        "y": 780,
        "wires": []
    },
    {
        "id": "3dc117c7.63b51",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Config Parameters",
        "info": "",
        "x": 370,
        "y": 1060,
        "wires": []
    },
    {
        "id": "2d4ae563.a0394a",
        "type": "switch",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Motion zone active",
        "property": "zone_active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 840,
        "wires": [
            [
                "6214c0ab.73eb08"
            ],
            [
                "d1fef5e9.1faa"
            ]
        ]
    },
    {
        "id": "6214c0ab.73eb08",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Disabled",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"Disabled\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "49b85432.3fb394",
        "type": "change",
        "z": "4c7c8cd1.6a2a1c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "zone_active",
                "pt": "flow",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "a6ce7a5b.5718f8",
        "type": "switch",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Zone enabled?",
        "property": "zone_active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 440,
        "y": 600,
        "wires": [
            [
                "f95fc416.12cdb8"
            ]
        ]
    },
    {
        "id": "c90679d.51c6188",
        "type": "comment",
        "z": "4c7c8cd1.6a2a1c",
        "name": "Outputs",
        "info": "",
        "x": 330,
        "y": 540,
        "wires": []
    },
    {
        "id": "191f8ef2.3fc1e9",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "deviceLabel": "Basement Spot by Laundry",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "974",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2200,
        "y": 600,
        "wires": [
            [
                "62072259.7464b4"
            ]
        ]
    },
    {
        "id": "62072259.7464b4",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 600,
        "wires": [
            [
                "d1759804.ff84d",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "d1759804.ff84d",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 600,
        "wires": [
            [
                "a295e4fa.4cb7e8"
            ]
        ]
    },
    {
        "id": "a295e4fa.4cb7e8",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "Basement Spot by Laundry",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "974",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 3000,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "d9452eae.e30818",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "deviceLabel": "Basement Spot by Stairs",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "973",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2190,
        "y": 660,
        "wires": [
            [
                "3c12909c.b9ca9"
            ]
        ]
    },
    {
        "id": "3c12909c.b9ca9",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 660,
        "wires": [
            [
                "777dd8f7.45277",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "777dd8f7.45277",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 660,
        "wires": [
            [
                "ce65d16b.5822b"
            ]
        ]
    },
    {
        "id": "ce65d16b.5822b",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "Basement Spot by Stairs",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "973",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 2990,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "c9da612b.1c684",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "deviceLabel": "Basement Leahs Desk Bulb",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "975",
        "attribute": "switch",
        "sendEvent": true,
        "x": 2200,
        "y": 720,
        "wires": [
            [
                "eb0f249.606fed8"
            ]
        ]
    },
    {
        "id": "eb0f249.606fed8",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "is on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2530,
        "y": 720,
        "wires": [
            [
                "cec0412a.d090a",
                "b7421877.47f01"
            ]
        ]
    },
    {
        "id": "cec0412a.d090a",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2720,
        "y": 720,
        "wires": [
            [
                "dc56f27a.5d3da"
            ]
        ]
    },
    {
        "id": "dc56f27a.5d3da",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "d": true,
        "deviceLabel": "Basement Leahs Desk Bulb",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "975",
        "command": "setColorTemperature",
        "commandArgs": "",
        "x": 3000,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "58e0ec60.bafb94",
        "type": "hubitat event",
        "z": "f9337f21.0eab78",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "x": 130,
        "y": 260,
        "wires": [
            [
                "94dde739.518ef8"
            ]
        ]
    },
    {
        "id": "94dde739.518ef8",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "== switch",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "switch",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 270,
        "y": 260,
        "wires": [
            [
                "9c7a6454.dc21f"
            ]
        ]
    },
    {
        "id": "9c7a6454.dc21f",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "== on",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 400,
        "y": 260,
        "wires": [
            [
                "c8190e0a.7f7a48"
            ]
        ]
    },
    {
        "id": "bccb5224.c91e6",
        "type": "hubitat device",
        "z": "f9337f21.0eab78",
        "deviceLabel": "",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "",
        "attribute": "",
        "sendEvent": false,
        "x": 720,
        "y": 260,
        "wires": [
            [
                "e473965f.8a5b68"
            ]
        ]
    },
    {
        "id": "c8190e0a.7f7a48",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "deviceId",
                "pt": "msg",
                "to": "payload.deviceId",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 260,
        "wires": [
            [
                "bccb5224.c91e6"
            ]
        ]
    },
    {
        "id": "60321171.83d2c8",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "When a device is turned on, check if it's a CT bulb",
        "info": "",
        "x": 270,
        "y": 200,
        "wires": []
    },
    {
        "id": "e473965f.8a5b68",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "CT Bulb?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "hask",
                "v": "colorTemperature",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 860,
        "y": 260,
        "wires": [
            [
                "33ed496c.3b1f1e"
            ]
        ]
    },
    {
        "id": "10420ba7.156514",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Color Temp",
        "rules": [
            {
                "t": "set",
                "p": "arguments",
                "pt": "msg",
                "to": "color_temperature",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "setColorTemperature",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 580,
        "wires": [
            [
                "c1b27dbf.a11668"
            ]
        ]
    },
    {
        "id": "c1b27dbf.a11668",
        "type": "hubitat command",
        "z": "f9337f21.0eab78",
        "deviceLabel": "",
        "name": "",
        "server": "252d4ef4.c14b6a",
        "deviceId": "",
        "command": "",
        "commandArgs": "",
        "x": 400,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "33ed496c.3b1f1e",
        "type": "link out",
        "z": "f9337f21.0eab78",
        "name": "Bulb turned on",
        "links": [
            "950cba8b.112ef8"
        ],
        "x": 955,
        "y": 260,
        "wires": []
    },
    {
        "id": "950cba8b.112ef8",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "Bulb CT Update",
        "links": [
            "33ed496c.3b1f1e",
            "a197e4e7.48a7c"
        ],
        "x": 75,
        "y": 580,
        "wires": [
            [
                "10420ba7.156514"
            ]
        ]
    },
    {
        "id": "b3231329.c6083",
        "type": "hubitat request",
        "z": "f9337f21.0eab78",
        "name": "Fetch all devices",
        "server": "252d4ef4.c14b6a",
        "path": "/devices/all",
        "x": 230,
        "y": 400,
        "wires": [
            [
                "21b8a5fd.7a31d2"
            ]
        ]
    },
    {
        "id": "21b8a5fd.7a31d2",
        "type": "split",
        "z": "f9337f21.0eab78",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 375,
        "y": 400,
        "wires": [
            [
                "7bc998fc.ab71a"
            ]
        ],
        "l": false
    },
    {
        "id": "7bc998fc.ab71a",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "CT Bulb?",
        "property": "payload.capabilities",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "ColorTemperature",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 480,
        "y": 400,
        "wires": [
            [
                "37a242c8.10feb6"
            ]
        ]
    },
    {
        "id": "37a242c8.10feb6",
        "type": "switch",
        "z": "f9337f21.0eab78",
        "name": "On?",
        "property": "payload.attributes.switch",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 630,
        "y": 400,
        "wires": [
            [
                "d820eb75.8fe88"
            ]
        ]
    },
    {
        "id": "a197e4e7.48a7c",
        "type": "link out",
        "z": "f9337f21.0eab78",
        "name": "",
        "links": [
            "950cba8b.112ef8"
        ],
        "x": 975,
        "y": 400,
        "wires": []
    },
    {
        "id": "dc311cbd.e678c8",
        "type": "link in",
        "z": "f9337f21.0eab78",
        "name": "Update All Bulbs CT",
        "links": [
            "b0c8d31a.f0e56"
        ],
        "x": 95,
        "y": 400,
        "wires": [
            [
                "b3231329.c6083"
            ]
        ]
    },
    {
        "id": "6c75f0cf.aaaf68",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "When the CT target is updated, pull and update all active bulbs",
        "info": "",
        "x": 310,
        "y": 340,
        "wires": []
    },
    {
        "id": "eef4c6a1.ea14a",
        "type": "comment",
        "z": "f9337f21.0eab78",
        "name": "Update a single bulb",
        "info": "",
        "x": 170,
        "y": 500,
        "wires": []
    },
    {
        "id": "145e840c.2ed744",
        "type": "delay",
        "z": "f9337f21.0eab78",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "3",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 850,
        "y": 400,
        "wires": [
            [
                "a197e4e7.48a7c"
            ]
        ]
    },
    {
        "id": "d820eb75.8fe88",
        "type": "change",
        "z": "f9337f21.0eab78",
        "name": "Set Device ID",
        "rules": [
            {
                "t": "set",
                "p": "deviceId",
                "pt": "msg",
                "to": "payload.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 735,
        "y": 400,
        "wires": [
            [
                "145e840c.2ed744"
            ]
        ],
        "l": false
    }
]